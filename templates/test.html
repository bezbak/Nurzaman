<!DOCTYPE html>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Тест Нурзаман</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

 </head>
 <body>
    <div class="result">
        {% for apartment in apartments%}
            <hr>
                <h1>Floor:{{apartment.floor}}</h1>
                <h1>room:{{apartment.room}}</h1>
                <h1>razmer:{{apartment.razmer}}</h1>
                <h1>info:{{apartment.info}}</h1>
            <hr>
        {% endfor %}
    </div>
    {% comment %} <script>
        $.ajax({
            url: '/catalog/?category='+category_id&&'',
            type: 'GET',
            data: {
              'min_price': minPrice,
              'max_price': maxPrice,
              'min_size': minSize,
              'max_size': maxSize,
              'min_floor': minFloor,
              'max_floor': maxFloor,
              'room': roomId, // Добавляем ID комнаты в запрос, если он доступен
              'page': currentPage
            },
            success: function (response) {
              console.log(response)
              response.results.forEach(apartment => {
                const apartmentElement = `
                    <a href="/planing/${apartment.id}">
                        <div class="flatListCard">
                            <div class="cardHead">
                                <h1>${apartment.room__title} квартира ${apartment.razmer} м²</h1>
                                <p>${apartment.info || ''}</p>
                            </div>
                            ${apartment.status__title ? `<button class="flatMetka">${apartment.status__title}</button>` : ''}
                            <br />
                            <div class="cardFlatImage">
                                <img src="${apartment.layote_url || ''}" style="max-width:350px;" alt="" />
                            </div>
                            <br />
                            <div class="cardFlatInf">
                                <p>Этаж:</p>
                                <h2>${apartment.floor__title || ''} из 14</h2>
                            </div>
                            <div class="cardFlatInf">
                                <p>Стоимость:</p>
                                <h1>${apartment.price} $</h1>
                            </div>
                            <br />
                            <div class="cardFootFlat"> 
                                <div>
                                    <h1>Стандартный платеж <img width="14px" src="/path/to/image" alt="" /></h1>
                                    <h1>Ваш платеж <img width="14px" src="/path/to/another/image" alt="" /></h1>
                                </div> 
                                <div>
                                    <h2>от ${(apartment.price * 0.3).toFixed(0)} $/мес.</h2>
                                    <h3>от ${(apartment.price * 0.3).toFixed(0)} $/мес.</h3>
                                </div>
                            </div>
                        </div>
                    </a>
                `;
                document.querySelector('.result').insertAdjacentHTML('beforeend', apartmentElement);
              });
            }
          });
    </script> {% endcomment %}
 </body>
</html>